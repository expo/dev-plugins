{"version":3,"file":"ReduxExtensionAdapter.js","sourceRoot":"","sources":["../src/ReduxExtensionAdapter.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,MAAM,EAAE,MAAM,mBAAmB,CAAC;AAI3C;;GAEG;AACH,MAAM,OAAO,qBAAqB;IACxB,MAAM,GAAgC,IAAI,CAAC;IAC3C,sBAAsB,GAAuC,IAAI,CAAC;IAE1E,IAAI,CAAC,KAAU;QACb,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,MAAM,EAAE;YAC/B,EAAE,EAAE,MAAM,EAAE;YACZ,KAAK;SACN,CAAC,CAAC;IACL,CAAC;IAED,IAAI,CAAC,MAAW,EAAE,KAAU;QAC1B,IAAI,CAAC,MAAM,EAAE,WAAW,CAAC,QAAQ,EAAE;YACjC,EAAE,EAAE,MAAM,EAAE;YACZ,MAAM;YACN,KAAK;SACN,CAAC,CAAC;IACL,CAAC;IAED,SAAS,CAAC,sBAAmD;QAC3D,IAAI,CAAC,sBAAsB,GAAG,sBAAsB,CAAC;IACvD,CAAC;IAED,SAAS,CAAC,KAAU;QAClB,IAAI,CAAC,sBAAsB,EAAE,CAAC,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,EAAE,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;IACpF,CAAC;IAED,SAAS,CAAC,MAAmC;QAC3C,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACvB,CAAC;CACF","sourcesContent":["import { type DevToolsPluginClient } from 'expo/devtools';\nimport { nanoid } from 'nanoid/non-secure';\n\ntype ReduxExtensionEventListener = (message: { type: string; [key: string]: any }) => void;\n\n/**\n * A stub Redux extension connector for `useReduxDevToolsExtension`\n */\nexport class ReduxExtensionAdapter {\n  private client: DevToolsPluginClient | null = null;\n  private reduxExtensionListener: ReduxExtensionEventListener | null = null;\n\n  init(value: any): void {\n    this.client?.sendMessage('init', {\n      id: nanoid(),\n      value,\n    });\n  }\n\n  send(action: any, state: any): void {\n    this.client?.sendMessage('action', {\n      id: nanoid(),\n      action,\n      state,\n    });\n  }\n\n  subscribe(reduxExtensionListener: ReduxExtensionEventListener) {\n    this.reduxExtensionListener = reduxExtensionListener;\n  }\n\n  resetRoot(value: any): void {\n    this.reduxExtensionListener?.({ type: 'DISPATCH', state: JSON.stringify(value) });\n  }\n\n  setClient(client: DevToolsPluginClient | null) {\n    this.client = client;\n  }\n}\n"]}