{"version":3,"file":"bin.js","sourceRoot":"","sources":["../../../src/cli/bin.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,4CAAsB;AACtB,8CAAwB;AAExB,mCAAwC;AACxC,mDAAkD;AAIlD,IAAM,IAAI,GAAG,IAAA,aAAG,EAAC;IACf,QAAQ;IACR,QAAQ,EAAE,OAAO;IACjB,QAAQ,EAAE,MAAM;IAChB,WAAW,EAAE,OAAO;IACpB,UAAU;IACV,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,QAAQ;IACd,IAAI,EAAE,WAAW;CAClB,CAAC,CAAC;AAEH,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE;IACrB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC,CAAC;IAChD,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACjB;AAED,IAAI,IAAI,CAAC,QAAQ,CAAC,EAAE;IAClB,OAAO,CAAC,GAAG,CAAC,mNAQX,CAAC,CAAC;IACH,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;CACjB;AAED,OAAO,CAAC,EAAE,CAAC,QAAQ,EAAE,cAAM,OAAA,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAf,CAAe,CAAC,CAAC;AAC5C,OAAO,CAAC,EAAE,CAAC,SAAS,EAAE,cAAM,OAAA,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAf,CAAe,CAAC,CAAC;AAE7C,GAAG,EAAE,CAAC;AAEN,SAAe,GAAG;;;;;wBACA,qBAAM,IAAA,+BAAc,EAAC,IAAI,CAAC,EAAA;;oBAApC,OAAO,GAAG,SAA0B;oBACpC,MAAM,GAAG,IAAA,qBAAY,EAAC,OAAO,CAAC,CAAC;oBAErC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE;wBAC1B,IAAM,IAAI,GAAG,2BAAoB,OAAO,CAAC,IAAI,CAAE,CAAC;wBAEhD,OAAO,CAAC,GAAG,CAAC,6CAAsC,IAAI,CAAE,CAAC,CAAC;wBAC1D,OAAO,CAAC,GAAG,CAAC,oBAAoB,CAAC,CAAC;wBAClC,OAAO,CAAC,GAAG,CAAC,YAAK,OAAO,CAAC,SAAS,CAAE,CAAC,CAAC;wBACtC,IAAA,cAAI,EAAC,IAAI,CAAC,CAAC;oBACb,CAAC,CAAC,CAAC;;;;;CACJ","sourcesContent":["#!/usr/bin/env node\nimport arg from 'arg';\nimport open from 'open';\n\nimport { createServer } from './server';\nimport { resolveOptions } from './resolveOptions';\n\nexport type Input = typeof args;\n\nconst args = arg({\n  // Types\n  '--help': Boolean,\n  '--port': Number,\n  '--version': Boolean,\n  // Aliases\n  '-h': '--help',\n  '-p': '--port',\n  '-v': '--version',\n});\n\nif (args['--version']) {\n  console.log(require('../package.json').version);\n  process.exit(0);\n}\n\nif (args['--help']) {\n  console.log(`\n    Usage\n      $ metro-bundle-plugin [statsFile]\n\n    Options\n      --port, -p      Port to listen on\n      --help, -h      Displays this message\n      --version, -v   Displays the current version\n  `);\n  process.exit(0);\n}\n\nprocess.on('SIGINT', () => process.exit(0));\nprocess.on('SIGTERM', () => process.exit(0));\n\nrun();\n\nasync function run() {\n  const options = await resolveOptions(args);\n  const server = createServer(options);\n\n  server.listen(options.port, () => {\n    const href = `http://localhost:${options.port}`;\n\n    console.log(`Metro bundle inspector is ready on ${href}`);\n    console.log('Loaded stats file:');\n    console.log(`  ${options.statsFile}`);\n    open(href);\n  });\n}\n"]}